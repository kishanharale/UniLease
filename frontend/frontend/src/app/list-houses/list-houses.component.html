<div class="container">
  <h2 class="text-center my-4">Available Apartments</h2>

  <div class="row">
    <!-- Left section: Price filter and favorites filter -->
    <nav class="col-md-3">
      <div class="navbar bg-light flex-column p-3">
        <!-- Max Price Filter -->
        <div class="navbar-item mb-4">
          <label for="price-slider" class="form-label">Max Price: ${{ maxPrice }}</label>
          <input 
            id="price-slider" 
            type="range" 
            class="form-range" 
            [(ngModel)]="maxPrice" 
            min="0" 
            max="5000"
          >
        </div>

        <!-- Favorites Filter -->
        <div class="navbar-item mb-4">
          <label class="form-label">Show Favorites Only</label>
          <input 
            type="checkbox" 
            [(ngModel)]="showFavoritesOnly"
          >
        </div>
      </div>
    </nav>

    <!-- Right section: Search bar and Apartments list -->
    <div class="col-md-9">
      <div class="input-group mb-3">
        <input 
          type="text" 
          class="form-control" 
          [(ngModel)]="searchQuery" 
          placeholder="Search by address" 
          aria-label="Search by address"
        />
      </div>

      <!-- Apartments list -->
      <div *ngFor="let apartment of filteredApartments" class="card mb-4">
        <div class="row g-0">
          <!-- Apartment Image -->
          <div class="col-md-3">
            <img [src]="apartment.image_url" alt="Apartment image" class="img-fluid rounded-start">
          </div>

          <!-- Apartment Details -->
          <div class="col-md-9">
            <div class="card-body">
              <div class="d-flex justify-content-between align-items-center">
                <h5 class="card-title">Address: {{ apartment.address }}</h5>
                
                <!-- Favorites Button -->
                <button 
                  (click)="toggleFavorite(apartment)" 
                  [ngClass]="{'btn-outline-danger': apartment.isFavorite, 'btn-outline-secondary': !apartment.isFavorite}" 
                  class="btn btn-sm">
                  <span *ngIf="apartment.isFavorite">★</span>
                  <span *ngIf="!apartment.isFavorite">☆</span>
                </button>
              </div>
              
              <p class="card-text">Price: ${{ apartment.price }}</p>
              <a [routerLink]="['/house-details', apartment.id]" class="btn btn-primary">View Details</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
